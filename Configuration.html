---
layout: default
---

      <h2>
<a name="user-content-hocon-configuration" class="anchor" href="#hocon-configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>HOCON Configuration</h2>

<p>Read more about the <a class="internal present" href="/HOCON">HOCON</a> spec.</p>

<h4>
<a name="user-content-example-config" class="anchor" href="#example-config" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example config</h4>

<div class="highlight highlight-javascript"><pre><span class="nx">akka</span> <span class="p">{</span>
    <span class="nx">actor</span> <span class="p">{</span>
        <span class="k">default</span><span class="o">-</span><span class="nx">dispatcher</span><span class="p">.</span><span class="nx">throughput</span> <span class="o">=</span> <span class="mi">20</span>
    <span class="p">}</span>
    <span class="nx">remote</span> <span class="p">{</span>
          <span class="nx">helios</span><span class="p">.</span><span class="nx">tcp</span> <span class="p">{</span>
              <span class="nx">transport</span><span class="o">-</span><span class="kr">class</span> <span class="o">=</span> 
                <span class="s2">"Akka.Remote.Transport.Helios.HeliosTcpTransport, Akka.Remote"</span>
              <span class="nx">transport</span><span class="o">-</span><span class="nx">protocol</span> <span class="o">=</span> <span class="nx">tcp</span>
              <span class="nx">port</span> <span class="o">=</span> <span class="mi">8091</span>
              <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"127.0.0.1"</span>
          <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<h4>
<a name="user-content-using-hardcoded-hocon-config-in-c-api" class="anchor" href="#using-hardcoded-hocon-config-in-c-api" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using hardcoded HOCON config in C# API</h4>

<div class="highlight highlight-csharp"><pre><span class="kt">var</span> <span class="n">config</span> <span class="p">=</span> <span class="n">ConfigurationFactory</span><span class="p">.</span><span class="n">ParseString</span><span class="p">(</span><span class="s">@"</span>
<span class="s">akka.remote.helios.tcp {</span>
<span class="s">              transport-class = </span>
<span class="s">           ""Akka.Remote.Transport.Helios.HeliosTcpTransport, Akka.Remote""</span>
<span class="s">              transport-protocol = tcp</span>
<span class="s">              port = 8091</span>
<span class="s">              hostname = ""127.0.0.1""</span>
<span class="s">          }"</span><span class="p">);</span>

<span class="kt">var</span> <span class="n">system</span> <span class="p">=</span> <span class="n">ActorSystem</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="s">"Mysystem"</span><span class="p">,</span><span class="n">config</span><span class="p">);</span>
</pre></div>

<h4>
<a name="user-content-using-a-net-config-file" class="anchor" href="#using-a-net-config-file" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using a .NET config file:</h4>

<blockquote>
<p><strong>WARNING:</strong><br>
Be extra careful when copying the configuration from hardcoded strings. Be on alert for double quotation marks, which may cause failures during ActorSystem creation.<br>
Example:<br>
The below string in the .config file is incorrect.<br></p>

<pre><code>provider = ""Akka.Remote.RemoteActorRefProvider, Akka.Remote""
</code></pre>

<p>This is the correct form.</p>

<pre><code>provider = "Akka.Remote.RemoteActorRefProvider, Akka.Remote"
</code></pre>
</blockquote>

<h5>
<a name="user-content-appconfig" class="anchor" href="#appconfig" aria-hidden="true"><span class="octicon octicon-link"></span></a>App.config</h5>

<div class="highlight highlight-xml"><pre><span class="cp">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span>
<span class="nt">&lt;configuration&gt;</span>
  <span class="nt">&lt;configSections&gt;</span>
    <span class="nt">&lt;section</span> <span class="na">name=</span><span class="s">"akka"</span> 
             <span class="na">type=</span><span class="s">"Akka.Configuration.Hocon.AkkaConfigurationSection, Akka"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/configSections&gt;</span>

  <span class="nt">&lt;akka&gt;</span>
    <span class="nt">&lt;hocon&gt;</span>
      <span class="cp">&lt;![CDATA[</span>
<span class="cp">          akka {</span>
<span class="cp">            log-config-on-start = off</span>
<span class="cp">            stdout-loglevel = INFO</span>
<span class="cp">            loglevel = ERROR</span>
<span class="cp">            actor {</span>
<span class="cp">              provider = "Akka.Remote.RemoteActorRefProvider, Akka.Remote"</span>
<span class="cp">              debug {</span>
<span class="cp">                  receive = on</span>
<span class="cp">                  autoreceive = on</span>
<span class="cp">                  lifecycle = on</span>
<span class="cp">                  event-stream = on</span>
<span class="cp">                  unhandled = on</span>
<span class="cp">              }</span>
<span class="cp">            }</span>
<span class="cp">            remote {</span>
<span class="cp">              helios.tcp {</span>
<span class="cp">                  transport-class = </span>
<span class="cp">            "Akka.Remote.Transport.Helios.HeliosTcpTransport, Akka.Remote"</span>
<span class="cp">                  #applied-adapters = []</span>
<span class="cp">                  transport-protocol = tcp</span>
<span class="cp">                  port = 8091</span>
<span class="cp">                  hostname = "127.0.0.1"</span>
<span class="cp">              }</span>
<span class="cp">            log-remote-lifecycle-events = INFO</span>
<span class="cp">          }</span>
<span class="cp">      ]]&gt;</span>
    <span class="nt">&lt;/hocon&gt;</span>
  <span class="nt">&lt;/akka&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
</pre></div>

<p>We can now use the <code>ConfigurationManager</code> to retrieve the "akka" section and use it's <code>AkkaConfig</code> property,
which contains the configuration in a form that is used by the ActorSystem.</p>

<div class="highlight highlight-csharp"><pre><span class="kt">var</span> <span class="n">section</span> <span class="p">=</span> <span class="p">(</span><span class="n">AkkaConfigurationSection</span><span class="p">)</span><span class="n">ConfigurationManager</span><span class="p">.</span><span class="n">GetSection</span><span class="p">(</span><span class="s">"akka"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">system</span> <span class="p">=</span> <span class="n">ActorSystem</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="s">"Mysystem"</span><span class="p">,</span> <span class="n">section</span><span class="p">.</span><span class="n">AkkaConfig</span><span class="p">);</span>
</pre></div>

<h2>
<a name="user-content-fluent-configuration" class="anchor" href="#fluent-configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Fluent Configuration</h2>

<blockquote>
<p><strong>Warning!</strong><br>
The fluent configuration support is experimental and might change or be removed.</p>
</blockquote>

<div class="highlight highlight-csharp"><pre><span class="kt">var</span> <span class="n">fluentConfig</span> <span class="p">=</span> <span class="n">FluentConfig</span><span class="p">.</span><span class="n">Begin</span><span class="p">()</span>
    <span class="p">.</span><span class="n">StdOutLogLevel</span><span class="p">(</span><span class="n">LogLevel</span><span class="p">.</span><span class="n">DebugLevel</span><span class="p">)</span>
    <span class="p">.</span><span class="n">LogConfigOnStart</span><span class="p">(</span><span class="k">true</span><span class="p">)</span>
    <span class="p">.</span><span class="n">LogLevel</span><span class="p">(</span><span class="n">LogLevel</span><span class="p">.</span><span class="n">ErrorLevel</span><span class="p">)</span>   
    <span class="p">.</span><span class="n">LogLocal</span><span class="p">(</span>
        <span class="n">receive</span><span class="p">:</span> <span class="k">true</span><span class="p">,</span>
        <span class="n">autoReceive</span><span class="p">:</span> <span class="k">true</span><span class="p">,</span>
        <span class="n">lifecycle</span><span class="p">:</span> <span class="k">true</span><span class="p">,</span>
        <span class="n">eventStream</span><span class="p">:</span> <span class="k">true</span><span class="p">,</span>
        <span class="n">unhandled</span><span class="p">:</span> <span class="k">true</span>
    <span class="p">)</span>
    <span class="p">.</span><span class="n">LogRemote</span><span class="p">(</span>
        <span class="n">lifecycleEvents</span><span class="p">:</span> <span class="n">LogLevel</span><span class="p">.</span><span class="n">DebugLevel</span><span class="p">,</span>
        <span class="n">receivedMessages</span><span class="p">:</span> <span class="k">true</span><span class="p">,</span>
        <span class="n">sentMessages</span><span class="p">:</span> <span class="k">true</span>
    <span class="p">)</span>
    <span class="p">.</span><span class="n">StartRemotingOn</span><span class="p">(</span><span class="s">"localhost"</span><span class="p">,</span> <span class="m">8081</span><span class="p">)</span>
    <span class="p">.</span><span class="n">Build</span><span class="p">();</span>

<span class="kt">var</span> <span class="n">system</span> <span class="p">=</span> <span class="n">ActorSystem</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="s">"MyServer"</span><span class="p">,</span> <span class="n">fluentConfig</span><span class="p">);</span>
</pre></div>

<p>The fluent configuration support is a simple builder ontop of the HOCON configuration.
This is because Akka.NET uses HOCON internally inside most of it's modules, such as routers and remoting.</p>

<p>Fluent configuration is based on extension methods on the <code>FluentConfig</code> class, this makes it possible to supply new config methods for different modules w/o altering the configuration API.</p>
    